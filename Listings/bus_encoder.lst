C51 COMPILER V9.60.7.0   BUS_ENCODER                                                       12/22/2025 13:52:50 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE BUS_ENCODER
OBJECT MODULE PLACED IN .\Objects\bus_encoder.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE bus_encoder.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listin
                    -gs\bus_encoder.lst) TABS(2) OBJECT(.\Objects\bus_encoder.obj)

line level    source

   1          /* File: bus_encoder.c */
   2          #include <aduc841.h>
   3          #include <string.h> 
   4          #include "header.h"
   5          
   6          /* Single Packet Decoder */
   7          uint8_t get_X_from_S(const uint8_t *S_vector, uint8_t hamming_R, uint8_t *X_output)
   8          {
   9   1          uint8_t HAMMING_N_CALC = (1 << hamming_R) - 1;
  10   1          uint8_t i;
  11   1          uint8_t col_index = 0; 
  12   1      
  13   1          memset(X_output, 0, HAMMING_N_CALC);
  14   1      
  15   1          for (i = 0; i < hamming_R; i++)
  16   1          {
  17   2              col_index = (col_index << 1) | S_vector[i];
  18   2          }
  19   1      
  20   1          if (col_index > HAMMING_N_CALC) return 0;
  21   1      
  22   1          if (col_index > 0)
  23   1          {
  24   2              X_output[col_index - 1] = 1;
  25   2          }
  26   1          return col_index;
  27   1      }
  28          
  29          /* Multi Packet Decoder */
  30          int get_multi_X_from_S(const uint8_t *S_stream, const uint8_t *R_list, uint8_t packet_count, uint8_t *X_st
             -ream)
  31          {
  32   1          uint8_t p;        
  33   1          uint8_t current_R; 
  34   1          uint8_t current_N; 
  35   1          
  36   1          const uint8_t *curr_S_ptr = S_stream;
  37   1          uint8_t *curr_X_ptr = X_stream;
  38   1      
  39   1          for (p = 0; p < packet_count; p++)
  40   1          {
  41   2              current_R = R_list[p];
  42   2              current_N = (1 << current_R) - 1;
  43   2      
  44   2              get_X_from_S(curr_S_ptr, current_R, curr_X_ptr);
  45   2              
  46   2              curr_S_ptr += current_R;
  47   2              curr_X_ptr += current_N;
  48   2          }
  49   1          return 0;
  50   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
C51 COMPILER V9.60.7.0   BUS_ENCODER                                                       12/22/2025 13:52:50 PAGE 2   

   CODE SIZE        =    223    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      28
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
